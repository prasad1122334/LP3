#quick sort

def deterministic_partition(arr, low, high):
    # Choose the middle element as the pivot
    pivot_index = (low + high) // 2
    pivot = arr[pivot_index]

    # Initialize left and right pointers
    left, right = low, high

    while True:
        while arr[left] < pivot:
            left += 1
        while arr[right] > pivot:
            right -= 1
        if left >= right:
            return right
        # Swap elements at left and right pointers
        arr[left], arr[right] = arr[right], arr[left]
        left += 1
        right -= 1

def deterministic_quick_sort(arr, low, high):
    if low < high:
        # Partition the array into two halves
        pivot = deterministic_partition(arr, low, high)

        # Recursively sort the sub-arrays
        deterministic_quick_sort(arr, low, pivot)
        deterministic_quick_sort(arr, pivot + 1, high)

# Example usage:
arr = [3, 6, 8, 10, 1, 2, 1]
deterministic_quick_sort(arr, 0, len(arr) - 1)
print("Sorted array:", arr)

# --- New Cell ---

#quick sort (B)

import random

def randomized_partition(arr, low, high):
    # Choose a random pivot index
    pivot_index = random.randint(low, high)
    pivot = arr[pivot_index]

    # Initialize left and right pointers
    left, right = low, high

    while True:
        while arr[left] < pivot:
            left += 1
        while arr[right] > pivot:
            right -= 1
        if left >= right:
            return right
        # Swap elements at left and right pointers
        arr[left], arr[right] = arr[right], arr[left]
        left += 1
        right -= 1

def randomized_quick_sort(arr, low, high):
    if low < high:
        # Partition the array into two halves
        pivot = randomized_partition(arr, low, high)

        # Recursively sort the sub-arrays
        randomized_quick_sort(arr, low, pivot)
        randomized_quick_sort(arr, pivot + 1, high)

# Example usage:
arr = [3, 6, 8, 10, 1, 2, 1]
randomized_quick_sort(arr, 0, len(arr) - 1)
print("Sorted array:", arr)